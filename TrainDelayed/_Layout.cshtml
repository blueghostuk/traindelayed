@using System.Web.Optimization;
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Search for delays to trains in the United Kingdom on the National Rail Network" />
    <title>@System.Configuration.ConfigurationManager.AppSettings["brandingTitle"]</title>
    <style type="text/css">
        @@import url(//fonts.googleapis.com/css?family=Telex);
    </style>
    @Styles.Render("~/Content/css")
    @RenderSection("CustomCss", false)
    @RenderSection("HeaderJs", false)
</head>
<body>
    <div class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">@System.Configuration.ConfigurationManager.AppSettings["brandingTitle"]</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    @RenderSection("TopMenu", true)
                </ul>
            </div>
        </div>
    </div>
    <div class="container">
        @RenderBody()
        @{
            var adClient = System.Configuration.ConfigurationManager.AppSettings["ad_client"];
            var adSlot = System.Configuration.ConfigurationManager.AppSettings["ad_slot"];
        }
        @if (!string.IsNullOrWhiteSpace(adClient) && !string.IsNullOrWhiteSpace(adSlot))
        {
            <style>
                .traindelayed-responsive {
                    width: 320px;
                    height: 50px;
                    margin-left: -15px;
                }

                @@media(min-width: 500px) {
                    .traindelayed-responsive {
                        width: 468px;
                        height: 60px;
                    }
                }

                @@media(min-width: 800px) {
                    .traindelayed-responsive {
                        width: 728px;
                        height: 90px;
                    }
                }
            </style>
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- traindelayed-responsive -->
            <ins class="adsbygoogle traindelayed-responsive"
                 style="display:inline-block"
                 data-ad-client="@adClient"
                 data-ad-slot="@adSlot"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        }
    </div>
    <div class="container">
        <hr />
        <footer>
            @System.Configuration.ConfigurationManager.AppSettings["AdCode"]
            <p>
                Copyright &copy; Michael Pritchard 2012-13. <a href="https://twitter.com/blueghostuk" class="twitter-follow-button" data-show-count="false">Follow @@blueghostuk</a>
                <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>
                <br />
                Contains information of Network Rail Infrastructure Limited licensed under the following licence:
                <a href="http://www.networkrail.co.uk/data-feeds/terms-and-conditions" target="_blank" title="Opens in new window"><i class="icon-share-alt" title="Opens in new window"></i>www.networkrail.co.uk/data-feeds/terms-and-conditions</a>
                <br />
                <a href="http://blueghostuk.github.com/traindelayed/">About this project</a>
            </p>
        </footer>
    </div>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/knockout")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/moment")
    @Scripts.Render("~/bundles/app")
    <script type="text/javascript">
        TrainDelayed.Common.serverSettings = {
            apiUrl: "@System.Configuration.ConfigurationManager.AppSettings["apiUrl"]",
            trainLink: "@System.Configuration.ConfigurationManager.AppSettings["trainLink"]",
            apiName: "@System.Configuration.ConfigurationManager.AppSettings["apiName"]"
        };
    </script>
    @RenderSection("FooterJs", required: false)
    @{
        var adSenseCode = System.Configuration.ConfigurationManager.AppSettings["ad_sense_code"];
        var adSenseUrl = System.Configuration.ConfigurationManager.AppSettings["ad_sense_url"];
    }
    @if (!string.IsNullOrWhiteSpace(adSenseCode) && !string.IsNullOrWhiteSpace(adSenseUrl))
    {
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', '@adSenseCode', '@adSenseUrl');
            ga('send', 'pageview');

        </script>
    }
</body>
</html>
