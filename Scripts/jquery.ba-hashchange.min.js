(function($,n,t){function o(n){return n=n||location.href,"#"+n.replace(/^[^#]*#?(.*)$/,"$1")}var i="hashchange",s=document,r,u=$.event.special,f=s.documentMode,e="on"+i in n&&(f===t||f>7);$.fn[i]=function(n){return n?this.bind(i,n):this.trigger(i)};$.fn[i].delay=50;u[i]=$.extend(u[i],{setup:function(){if(e)return!1;$(r.start)},teardown:function(){if(e)return!1;$(r.stop)}});r=function(){function s(){var f=o(),t=c(u);f!==u?(h(u=f,t),$(n).trigger(i)):t!==u&&(location.href=location.href.replace(/#.*/,"")+t);r=setTimeout(s,$.fn[i].delay)}var f={},r,u=o(),e=function(n){return n},h=e,c=e;return f.start=function(){r||s()},f.stop=function(){r&&clearTimeout(r);r=t},f}()})(jQuery,this);